<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<% page_list = @slide_list %>
<% prefix = @prefix %>
<%= @str_css %>
<div>
  <ul style="display:none" id="<%= prefix %>slide_list">
    <% page_list.each do |f| %>
      <li><img class="lazy" data-original="<%= File.basename(f) %>" /></li>
    <% end %>
  </ul>

  <div class="<%= prefix %>slidebox" id="<%= prefix %>slidebox" style="left:0px;margin:0px;padding:0px;">
    <div id="<%= prefix %>slide_area"><img /></div>
    <div id="<%= prefix %>progress_area">
      <div id="<%= prefix %>thumb">&nbsp;</div>
    </div>
    <div id="<%= prefix %>command_area">
      <div id="<%= prefix %>command_inner">
        <a class="<%= prefix %>icon" style="float:left;margin-right:4px;" href="#" id="<%= prefix %>full_screen_icon"><i id="slide_control_fullscreen" class="fa fa-television"></i>&nbsp;</a>
        <ul style="list-style-image:none; list-style-type:none">
          <li><a href="javascript:OSSJSPARTS<%= prefix %>.moveTo(0);">&nbsp;<i class="fa fa-fast-backward"></i>&nbsp;</a></li>
          <li><a href="javascript:OSSJSPARTS<%= prefix %>.moveTo(OSSJSPARTS<%= prefix %>.currentPageIndex-1);">&nbsp<i class="fa fa-step-backward"></i>&nbsp;</a></li>
          <li><div id="<%= prefix %>page_positions" style="padding-left:0px;"></div></li>
          <li><a href="javascript:OSSJSPARTS<%= prefix %>.moveTo(OSSJSPARTS<%= prefix %>.currentPageIndex+1);">&nbsp;<i class="fa fa-step-forward"></i>&nbsp;</a></li>
          <li><a href="javascript:OSSJSPARTS<%= prefix %>.moveTo(OSSJSPARTS<%= prefix %>.slides.length-1);">&nbsp;<i class="fa fa-fast-forward"></i>&nbsp;</a></li>
        </ul>
        <span class="<%= prefix %>clearfix"></span>
      </div>
    </div>
  </div>
</div>

<% s = @str_js %>

<%= s.gsub('OSSJSPARTS', "OSSJSPARTS#{prefix}").gsub('PREFIX', prefix) %>
